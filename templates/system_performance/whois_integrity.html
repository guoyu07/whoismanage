{% extends "../main_template.html" %}
{% block title_name %}
<title>域名WHOIS信息完整性统计分析</title>
{% end %}
{% block page %}

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">域名WHOIS信息完整性统计分析</h1>
    </div>
</div>

<div class="row">
    <ul id="myTab" class="nav nav-tabs">
        <li class="active">
            <a href="#home" data-toggle="tab">域名WHOIS信息完整性统计</a>
        </li>
        <li>
            <a href="#tld" data-toggle="tab">特定域名后缀情况统计</a>
        </li>
    </ul>
    <div id="myTabContent" class="tab-content" style="margin-top:15px;">
        <div class="tab-pane fade in active" id="home">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-bar-chart-o fa-fw"></i>
                    域名WHOIS信息完整性分布
                </div>
                <div class="panel-body">
                    <div id="containertb" style="width: 100%;height: 100%;"></div>
                </div>
            </div>
        </div><!--//home-->
        <div class="tab-pane fade" id="tld">
            <div class="row">
                <!--col-lg-4-->
                <div class="col-lg-4">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i>
                                域名WHOIS信息完整性分布
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="tld-query" class="col-sm-3 control-label">
                                            域名后缀
                                        </label>
                                        <div class="col-sm-7">
                                            <input type="text" class="form-control" id="tld-query" 
                                                placeholder="请输入后缀，例net">
                                        </div>
                                    </div>
                                    <div class="col-sm-offset-3 col-sm-9">
                                        <button type="button" class="btn btn-primary" id="query">
                                            查询详情
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div> <!--//panel panel-default-->
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i>
                            查询WHOIS信息状态说明
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="well">
                                根据是否能够提取域名WHOIS的注册者和注册时间等关键信息以及WHOIS服务器是否有效，将状态主要分为以下四类，可以单击按钮查看详情
                                </div>
                                <div class="col-sm-offset-3">
                                    <button class="btn btn-primary " data-toggle="modal" data-target="#myModal">
                                        查看状态说明
                                    </button>
                                </div>
                                    
                                <!-- 模态框（Modal） -->
                                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" 
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title" id="myModalLabel">
                                                    WHOIS信息状态位说明
                                                </h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="well">
                                                    笔记为的说明文档
                                                    你好
                                                    不好
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-default" data-dismiss="modal">
                                                    关闭
                                                </button>
                                            </div>
                                        </div><!-- /.modal-content -->
                                    </div><!-- /.modal -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!--//col-lg-4-->
                <!--col-lg-8-->
                <div class="col-lg-8">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i>
                            域名WHOIS信息完整性分布
                        </div>
                        <div class="panel-body">
                            <div class="row">
                            <div id="containerfz" style="width:100%;height:100%;"></div>
                            </div>
                        </div>
                    </div>
                </div><!--col-lg-8-->
            </div>
        </div>
    </div>
</div>

{% end %}

{% block foot_script %}
<script src="//cdn.hcharts.cn/highcharts/highcharts.js"></script>
<script src="http://cdn.hcharts.cn/highcharts/modules/data.js"></script>
<script src="http://cdn.hcharts.cn/highcharts/modules/drilldown.js"></script>
<script src={{ static_url("js/system_performance/whois_integrity.js")}}></script>
<script>
$(function(){
    whois_chart({% raw tld_whois_sum %});
    $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
      // 获取已激活的标签页的名称
        var activeTab = $(e.target).text();
        if(activeTab=="特定域名后缀情况统计"){
            get_tld_data('net');
        }
    });
    $("#query").bind('click',function(){
        get_tld_data($("#tld-query").val());
    });
});
</script>
{% end %}